<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —à–ª–µ–π—Ñ | –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            color: #fff;
            font-family: 'Arial', sans-serif;
            overflow: hidden;
            height: 100vh;
            touch-action: none;
        }

        .container {
            position: relative;
            width: 100%;
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 2;
            pointer-events: none; /* –í–∞–∂–Ω–æ! –ü–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–±—ã—Ç–∏—è–º –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —Å–∫–≤–æ–∑—å */
        }

        .content {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            max-width: 90%;
            pointer-events: auto; /* –ù–æ —Å–∞–º –∫–æ–Ω—Ç–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º */
        }

        h1 {
            font-size: clamp(24px, 5vw, 48px);
            margin-bottom: 20px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4, #45b7d1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        p {
            font-size: clamp(14px, 3vw, 18px);
            line-height: 1.6;
            margin-bottom: 15px;
            color: #ccc;
        }

        .instructions {
            font-size: clamp(12px, 2.5vw, 14px);
            color: #888;
            margin-top: 20px;
        }

        .mobile-warning {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            color: white;
            padding: 10px;
            text-align: center;
            z-index: 1000;
            font-size: 14px;
        }

        canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            cursor: pointer;
        }

        .debug {
            position: fixed;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.8);
            padding: 10px;
            border-radius: 5px;
            font-size: 12px;
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .content {
                padding: 15px;
                max-width: 95%;
            }
            
            .mobile-warning {
                display: block;
            }
        }

        @media (max-width: 480px) {
            .content {
                padding: 10px;
            }
            
            h1 {
                margin-bottom: 15px;
            }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .content {
            animation: pulse 4s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="mobile-warning">
        üí´ –î–≤–∏–≥–∞–π—Ç–µ –ø–∞–ª—å—Ü–µ–º –ø–æ —ç–∫—Ä–∞–Ω—É –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∞–ª–∞–∫—Ç–∏–∫–∏!
    </div>

    <canvas id="galaxyCanvas"></canvas>
    
    <div class="container">
        <div class="content">
            <h1>–ö–æ—Å–º–∏—á–µ—Å–∫–∏–π —à–ª–µ–π—Ñ</h1>
            <p>–î–≤–∏–≥–∞–π—Ç–µ –∫—É—Ä—Å–æ—Ä–æ–º –∏–ª–∏ –ø–∞–ª—å—Ü–µ–º –ø–æ —ç–∫—Ä–∞–Ω—É, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å–≤–æ—é —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—É—é –≥–∞–ª–∞–∫—Ç–∏–∫—É</p>
            <p>–ß–∞—Å—Ç–∏—Ü—ã –±—É–¥—É—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å —Å–ø–∏—Ä–∞–ª—å–Ω—ã–µ —Ä—É–∫–∞–≤–∞, –ø–æ–¥–æ–±–Ω—ã–µ –Ω–∞—Å—Ç–æ—è—â–∏–º –≥–∞–ª–∞–∫—Ç–∏–∫–∞–º</p>
            <div class="instructions">
                üí° –°–æ–≤–µ—Ç: –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–µ–ª–∞—Ç—å –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–∏—Ä–∞–ª–µ–π
            </div>
        </div>
    </div>

    <!-- <div class="debug" id="debugInfo">–ß–∞—Å—Ç–∏—Ü: 0</div> -->

    <script>
        class GalaxyParticle {
            constructor(x, y) {
                this.x = x;
                this.y = y;
                this.size = Math.random() * 3 + 1;
                this.speedX = (Math.random() - 0.5) * 4;
                this.speedY = (Math.random() - 0.5) * 4;
                this.color = this.getRandomColor();
                this.life = 1.0;
                this.decay = Math.random() * 0.02 + 0.005;
            }

            getRandomColor() {
                const colors = [
                    '#4ecdc4', '#45b7d1', '#ff6b6b', 
                    '#96ceb4', '#feca57', '#ff9ff3',
                    '#54a0ff', '#5f27cd', '#00d2d3'
                ];
                return colors[Math.floor(Math.random() * colors.length)];
            }

            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                this.life -= this.decay;
                
                // –ó–∞–º–µ–¥–ª–µ–Ω–∏–µ —á–∞—Å—Ç–∏—Ü
                this.speedX *= 0.98;
                this.speedY *= 0.98;
                
                // –ì—Ä–∞–≤–∏—Ç–∞—Ü–∏—è –∫ —Ü–µ–Ω—Ç—Ä—É
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;
                const dx = centerX - this.x;
                const dy = centerY - this.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                
                if (distance > 0) {
                    const force = 0.0002;
                    this.speedX += dx * force;
                    this.speedY += dy * force;
                }
            }

            draw(ctx) {
                ctx.save();
                ctx.globalAlpha = this.life;
                ctx.fillStyle = this.color;
                
                // –°–≤–µ—á–µ–Ω–∏–µ
                ctx.shadowBlur = 15;
                ctx.shadowColor = this.color;
                
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
                ctx.restore();
            }

            isDead() {
                return this.life <= 0;
            }
        }

        class GalaxyEffect {
            constructor() {
                this.canvas = document.getElementById('galaxyCanvas');
                this.ctx = this.canvas.getContext('2d');
                this.particles = [];
                this.mouseX = 0;
                this.mouseY = 0;
                this.isMouseDown = false;
                this.lastTouchTime = 0;
                this.debugElement = document.getElementById('debugInfo');
                
                this.init();
                this.setupEventListeners();
                this.animate();
            }

            init() {
                this.resizeCanvas();
                window.addEventListener('resize', () => this.resizeCanvas());
                
                // –°–æ–∑–¥–∞–µ–º –Ω–∞—á–∞–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
                this.createInitialParticles();
            }

            createInitialParticles() {
                // –°–æ–∑–¥–∞–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞—á–∞–ª—å–Ω—ã—Ö —á–∞—Å—Ç–∏—Ü –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
                for (let i = 0; i < 50; i++) {
                    const x = Math.random() * this.canvas.width;
                    const y = Math.random() * this.canvas.height;
                    this.particles.push(new GalaxyParticle(x, y));
                }
            }

            resizeCanvas() {
                this.canvas.width = window.innerWidth;
                this.canvas.height = window.innerHeight;
            }

            setupEventListeners() {
                // –í–µ—à–∞–µ–º —Å–æ–±—ã—Ç–∏—è –Ω–∞ –í–ï–°–¨ –¥–æ–∫—É–º–µ–Ω—Ç, –∞ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ canvas
                document.addEventListener('mousemove', (e) => {
                    this.mouseX = e.clientX;
                    this.mouseY = e.clientY;
                    this.createParticles(e.clientX, e.clientY, 5);
                });

                document.addEventListener('mousedown', () => {
                    this.isMouseDown = true;
                });

                document.addEventListener('mouseup', () => {
                    this.isMouseDown = false;
                });

                // –°–æ–±—ã—Ç–∏—è –¥–ª—è –≤—Å–µ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
                document.addEventListener('touchmove', (e) => {
                    e.preventDefault();
                    const touch = e.touches[0];
                    this.mouseX = touch.clientX;
                    this.mouseY = touch.clientY;
                    
                    const currentTime = Date.now();
                    if (currentTime - this.lastTouchTime > 16) {
                        this.createParticles(touch.clientX, touch.clientY, 8);
                        this.lastTouchTime = currentTime;
                    }
                }, { passive: false });

                document.addEventListener('touchstart', (e) => {
                    this.isMouseDown = true;
                    const touch = e.touches[0];
                    this.createParticles(touch.clientX, touch.clientY, 10);
                });

                document.addEventListener('touchend', () => {
                    this.isMouseDown = false;
                });

                // –¢–∞–∫–∂–µ –≤–µ—à–∞–µ–º —Å–æ–±—ã—Ç–∏—è –Ω–∞ —Å–∞–º canvas –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
                this.canvas.addEventListener('mousemove', (e) => {
                    this.mouseX = e.clientX;
                    this.mouseY = e.clientY;
                    this.createParticles(e.clientX, e.clientY, 5);
                });
            }

            createParticles(x, y, count) {
                for (let i = 0; i < count; i++) {
                    const offsetX = (Math.random() - 0.5) * 30;
                    const offsetY = (Math.random() - 0.5) * 30;
                    
                    this.particles.push(
                        new GalaxyParticle(x + offsetX, y + offsetY)
                    );
                }
                
                // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–∞—Å—Ç–∏—Ü –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
                if (this.particles.length > 2000) {
                    this.particles = this.particles.slice(-1500);
                }
            }

            animate() {
                requestAnimationFrame(() => this.animate());
                
                // –ü–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∞ —à–ª–µ–π—Ñ–∞
                this.ctx.fillStyle = 'rgba(0, 0, 0, 0.08)';
                this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ –æ—Ç—Ä–∏—Å–æ–≤–∫–∞ —á–∞—Å—Ç–∏—Ü
                for (let i = this.particles.length - 1; i >= 0; i--) {
                    const particle = this.particles[i];
                    particle.update();
                    particle.draw(this.ctx);
                    
                    if (particle.isDead()) {
                        this.particles.splice(i, 1);
                    }
                }

                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
                if (this.debugElement) {
                    this.debugElement.textContent = `–ß–∞—Å—Ç–∏—Ü: ${this.particles.length}`;
                }
            }
        }

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', () => {
            new GalaxyEffect();
            console.log('GalaxyEffect –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω! –î–≤–∏–≥–∞–π—Ç–µ –∫—É—Ä—Å–æ—Ä–æ–º –ø–æ —ç–∫—Ä–∞–Ω—É.');
        });

        // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
        document.addEventListener('touchmove', (e) => {
            if (e.target.tagName !== 'TEXTAREA' && e.target.tagName !== 'INPUT') {
                e.preventDefault();
            }
        }, { passive: false });
    </script>
</body>
</html>
