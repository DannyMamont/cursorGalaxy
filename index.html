<!DOCTYPE html>
<html>
<head>
    <title>Тест частиц</title>
    <style>body{margin:0;overflow:hidden;}</style>
</head>
<body>
    <canvas id="c"></canvas>
    <script>
        const c = document.getElementById('c');
        const ctx = c.getContext('2d');
        c.width = window.innerWidth;
        c.height = window.innerHeight;
        
        let parts = [];
        let mouse = {x:0,y:0};
        
        c.addEventListener('mousemove', e => {
            mouse.x = e.clientX;
            mouse.y = e.clientY;
            for(let i=0;i<5;i++){
                parts.push({
                    x: e.clientX,
                    y: e.clientY,
                    size: Math.random()*5+2,
                    speedX: Math.random()*6-3,
                    speedY: Math.random()*6-3,
                    color: `rgb(${Math.random()*255},${Math.random()*255},${Math.random()*255})`,
                    life: 1
                });
            }
        });
        
        function animate(){
            ctx.fillStyle = 'rgba(0,0,0,0.1)';
            ctx.fillRect(0,0,c.width,c.height);
            
            for(let i=0;i<parts.length;i++){
                let p = parts[i];
                p.x += p.speedX;
                p.y += p.speedY;
                p.life -= 0.01;
                
                ctx.fillStyle = p.color;
                ctx.globalAlpha = p.life;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI*2);
                ctx.fill();
                
                if(p.life <= 0){
                    parts.splice(i,1);
                    i--;
                }
            }
            ctx.globalAlpha = 1;
            requestAnimationFrame(animate);
        }
        animate();
        console.log('Двигайте мышкой!');
    </script>
</body>
</html>
